<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>XINX Library: XINX Library</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>XINX Library</h1>
<p>
<h3 align="center">0.7.1 </h3><h2><a class="anchor" name="preface">
Preface</a></h2>
This document explain how to use the XINX Library to create a plugins. This document can be used to known how XINX work, in part, too.<p>
You can find in the menu, documented class present in the libxinxcmp and libsharedxinx. The first library contains components, the second, contains shared object beetween XINX and plugins. Source of existing plugins can be use too, as documentation.<p>
Plugins is used to extend XINX in different way.<ul>
<li>Add a revision control system</li><li>Add Syntax Highlighter on file editor</li><li>Add Completion</li></ul>
<p>
Only the first two point can be declared as stable, but can change in future. The completion will be change soon.<h2><a class="anchor" name="pluginbase">
Base of plugin</a></h2>
A plugins must implements at least one interface : <a class="el" href="classIXinxPlugin.html">IXinxPlugin</a>. This interface is used to know informations about the plugins. A plugin that implement only this interface do nothing but is regocgnize by XINX.<p>
To implemente the interface you must write some code like this : <div class="fragment"><pre class="fragment"> <span class="keyword">class </span>FooPlugin : <span class="keyword">public</span> QObject, <span class="keyword">public</span> <a class="code" href="classIXinxPlugin.html">IXinxPlugin</a> {
        Q_OBJECT
        Q_INTERFACES(<a class="code" href="classIXinxPlugin.html">IXinxPlugin</a>)
 public:
        FooPlugin();
        virtual ~FooPlugin();
        
        virtual <span class="keywordtype">bool</span> initializePlugin( const QString &amp; lang );
        virtual QVariant getPluginAttribute( const enum <a class="code" href="classIXinxPlugin.html">IXinxPlugin</a>::PluginAttribute &amp; attr );
 };
</pre></div><p>
The implementation of this class can be :<p>
<div class="fragment"><pre class="fragment"> FooPlugin::FooPlugin() {
        <span class="comment">// Make some initialization</span>
 }

 FooPlugin::~FooPlugin() {
        <span class="comment">// Make some cleanup</span>
 }

 <span class="keywordtype">bool</span> <a class="code" href="classIXinxPlugin.html#c5ab3860816308bbf1bf0fd1d0056743">FooPlugin::initializePlugin</a>( <span class="keyword">const</span> QString &amp; lang ) {
        <span class="comment">// Make some initialization about the localization</span>
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
 }

 QVariant <a class="code" href="classIXinxPlugin.html#f005f6454313e0dd9fcdf8cfc02de49f">FooPlugin::getPluginAttribute</a>( <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="classIXinxPlugin.html#19c69c38ee88557f23dfb9f91ab26a60">IXinxPlugin::PluginAttribute</a> &amp; attr ) {
        <span class="keywordflow">switch</span>( attr ) {
        <span class="keywordflow">case</span> PLG_NAME:
                <span class="keywordflow">return</span> tr(<span class="stringliteral">"A foo plugins"</span>);
        <span class="keywordflow">case</span> PLG_DESCRIPTION:
                <span class="keywordflow">return</span> tr(<span class="stringliteral">"Just a foo plugins that do nothing."</span>);
        <span class="keywordflow">case</span> PLG_AUTHOR:
                <span class="keywordflow">return</span> <span class="stringliteral">"Ulrich Van Den Hekke"</span>;
        <span class="keywordflow">case</span> PLG_VERSION:
                <span class="keywordflow">return</span> <span class="stringliteral">"0.1"</span>;
        <span class="keywordflow">case</span> PLG_LICENCE:
                <span class="keywordflow">return</span> <span class="stringliteral">"GPL v2.0 or later"</span>;
        }
        <span class="keywordflow">return</span> QVariant();
 }
 Q_EXPORT_PLUGIN2(fooplugin, FooPlugin)
</pre></div><p>
The plugins must inherits from the QObject class (see Qt documentation), and must call the Q_OBJECT macro. He can inherits <a class="el" href="classIXinxPlugin.html">IXinxPlugin</a> indirectly (some class as <a class="el" href="classIRCSPlugin.html">IRCSPlugin</a> inherits from <a class="el" href="classIXinxPlugin.html">IXinxPlugin</a>).<p>
The plugin must call the Q_EXPORT_PLUGIN2 macro in the implementation. This create a static variable for the plugin.<p>
A plugin can propose a configuration dialog throw the <a class="el" href="classIXinxPluginConfiguration.html">IXinxPluginConfiguration</a> interface.<h2><a class="anchor" name="rcsplugin">
The Revision Control System Plugin</a></h2>
A <a class="el" href="classRCS.html">RCS</a> Plugin must implemente the <a class="el" href="classIRCSPlugin.html">IRCSPlugin</a> interface.<p>
<div class="fragment"><pre class="fragment"> <span class="keyword">class </span>FooPlugin : <span class="keyword">public</span> QObject, <span class="keyword">public</span> <a class="code" href="classIRCSPlugin.html">IRCSPlugin</a> {
        Q_OBJECT
        Q_INTERFACES(<a class="code" href="classIXinxPlugin.html">IXinxPlugin</a>)
        Q_INTERFACES(<a class="code" href="classIRCSPlugin.html">IRCSPlugin</a>)
 public:
        FooPlugin();
        virtual ~FooPlugin();
        
        virtual <span class="keywordtype">bool</span> initializePlugin( const QString &amp; lang );
        virtual QVariant getPluginAttribute( const enum <a class="code" href="classIXinxPlugin.html">IXinxPlugin</a>::PluginAttribute &amp; attr );

        virtual QStringList rcs();
        virtual QString descriptionOfRCS( const QString &amp; rcs );
        virtual <a class="code" href="classRCS.html">RCS</a> * createRCS( const QString &amp; rcs, const QString &amp; basePath );
 };
</pre></div><p>
In the implementation method create a derivated object of <a class="el" href="classRCS.html">RCS</a><p>
<div class="fragment"><pre class="fragment"> QStringList <a class="code" href="classIRCSPlugin.html#7ab4240b80ee1c77c392536d544faaff" title="List of revision control system proposed by the plugin.">FooPlugin::rcs</a>() {
        <span class="keywordflow">return</span> QStringList() &lt;&lt; <span class="stringliteral">"foo"</span>;
 }
 
 QString <a class="code" href="classIRCSPlugin.html#c2a740a756e41d21072e61504664ed30" title="Description of each revision control system.">FooPlugin::descriptionOfRCS</a>( <span class="keyword">const</span> QString &amp; rcs ) {
        <span class="keywordflow">if</span>( rcs.toLower() == <span class="stringliteral">"foo"</span> )
                <span class="keywordflow">return</span> tr( <span class="stringliteral">"Foo - Foo Version System"</span> );
        <span class="keywordflow">return</span> QString();
 }

 <a class="code" href="classRCS.html">RCS</a> * <a class="code" href="classIRCSPlugin.html#e2ad1869428d5cf6a0f226e2c96aec7a">FooPlugin::createRCS</a>( <span class="keyword">const</span> QString &amp; rcs, <span class="keyword">const</span> QString &amp; basePath ) {
        <span class="keywordflow">if</span>( rcs.toLower() == <span class="stringliteral">"foo"</span> ) {
                <span class="keywordflow">return</span> <span class="keyword">new</span> RCS_Foo( basePath );
        }
        <span class="keywordflow">return</span> NULL;
 }
</pre></div><p>
Next this is the RCS_Foo object that will be used in the application to <em>update</em>, <em>commit</em>, <em>remove</em> and <em>add</em>. </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jun 3 10:17:39 2008 for XINX Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
